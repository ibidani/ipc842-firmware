(function(){var c={},a=Page.bonjourConfig={init:function(){a.configManager=new ConfigManager;a.translate();a.render();a.bind()},translate:function(){$("bonjour_enable_label").set("text",tl("w_StartUp"));$("bonjour_service_name_label").set("text",tl("w_Server Name"));$("bonjour_help").set("title",tl("w_help"));$("bonjour_default").set("text",tl("w_DefaultConfig"));$("bonjour_refresh").set("text",tl("w_Refresh"));$("bonjour_confirm").set("text",tl("w_Confirm"))},render:function(){a.configManager.getConfig("Bonjour",
function(e,b){c=b.params.table;a._renderElements(c)})},bind:function(){$("bonjour_service_name").addEvent("keyup",function(){promptImportLimt("bonjour_service_name","bonjour_service_name_tip","w_BadstringServerName",0)});$("bonjour_default").addEvent("click",a._onDefaultClick);$("bonjour_refresh").addEvent("click",a._onRefreshClick);$("bonjour_confirm").addEvent("click",a._onConfirmClick);$("bonjour_help").addEvent("click",function(){openHelp("bonjourConfig.htm")})},_renderElements:function(a){$("bonjour_service_name_tip").setProperty("text",
"");$("bonjour_enable").checked=a.Enable;$("bonjour_service_name").value=a.Name},_onDefaultClick:function(){a.configManager.getDefault("Bonjour",function(c,b){var d;b.result?(d=b.params.table,a._renderElements(d),remarkDisplay("bonjour_remark",tl("Defaultsuccess"),3E3,0)):remarkDisplay("bonjour_remark",tl("Defaultfailure"),3E3,1)})},_onRefreshClick:function(){a.configManager.getConfig("Bonjour",function(e,b){b.result?(c=b.params.table,a._renderElements(c),remarkDisplay("bonjour_remark",tl("Operateingsuccess"),
3E3,0)):remarkDisplay("bonjour_remark",tl("Operateingfailure"),3E3,1)})},_onConfirmClick:function(){c.Enable=$("bonjour_enable").checked;c.Name=$("bonjour_service_name").value;checkedImportLimt("bonjour_service_name",0)?a.configManager.setConfig("Bonjour",c,function(a,b){b.result?remarkDisplay("bonjour_remark",tl("Succeed in saving configure"),3E3,0):remarkDisplay("bonjour_remark",tl("Saving failure"),3E3,1)}):$("bonjour_service_name").value.length===0?$("bonjour_service_name_tip").setProperty("text",
tl("w_Need")):($("bonjour_service_name_tip").setProperty("text",tl("w_BadstringServerName")),remarkDisplay("bonjour_remark",tl("w_BadstringServerName"),3E3,1))}}})();
