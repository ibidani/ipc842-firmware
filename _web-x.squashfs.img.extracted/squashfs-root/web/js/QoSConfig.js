(function(){var b,c,a=Page.QoSConfig={init:function(){a.configManager=new ConfigManager;a.translate();a.render();a.bind()},translate:function(){$("QoS_realTime_lable").set("text",tl("w_Monitor"));$("QoS_doManage_lable").set("text",tl("w_Work Manage"));$("QoS_default").set("text",tl("w_DefaultConfig"));$("QoS_refresh").set("text",tl("w_Refresh"));$("QoS_confirm").set("text",tl("w_Confirm"));$("QoS_help").set("title",tl("w_help"));$("QoS_Wireless_lable").set("text",tl("w_WMM"))},render:function(){a.configManager.getConfig(["Qos",
"WMM"],a._rendersaveJson,!1);a._renderElements();if(currenDeviceType.contains("SD"))$("QoS_wireless").style.display="none"},bind:function(){$("QoS_refresh").addEvent("click",a._onRefreshClick);$("QoS_confirm").addEvent("click",a._onConfirmClick);$("QoS_default").addEvent("click",a._onDefaultClick);$("QoS_help").addEvent("click",function(){openHelp("QoSConfig.htm")});attachLimit("QoS_input_realTime",0,63);attachLimit("Qos_input_doManage",0,63);$$("#QoS_input_realTime,#Qos_input_doManage").addEvent("keyup",
function(){this.value=this.value==null||this.value==0?0:this.value.toInt()})},_rendersaveJson:function(a){if(JSON.decode(a).result)a=JSON.decode(a).params,b=a[0].params.table,c=a[1].params.table},_renderElements:function(){$("QoS_input_realTime").value=b.LiveVideo;$("Qos_input_doManage").value=b.Commands;!bool_wifi&&!bool_get3GNet?($("QoS_input_wireless").style.display="none",$("QoS_Wireless_lable").style.display="none"):($("QoS_input_wireless").style.display="",$("QoS_Wireless_lable").style.display=
"",$("QoS_input_wireless").checked=c.Enable)},_onDefaultClick:function(){a.configManager.getDefault(["Qos","WMM"],function(d){JSON.decode(d).result?(a._rendersaveJson(d),a._renderElements(),remarkDisplay("QoS_remark",tl("Defaultsuccess"),3E3,0)):remarkDisplay("QoS_remark",tl("Defaultfailure"),3E3,1)},!1)},_onConfirmClick:function(){b.LiveVideo=$("QoS_input_realTime").value.toInt();b.Commands=$("Qos_input_doManage").value.toInt();c.Enable=$("QoS_input_wireless").checked;a.configManager.setConfig(["Qos",
"WMM"],[b,c],function(a){JSON.decode(a).result?remarkDisplay("QoS_remark",tl("w_save Succeed"),3E3,0):remarkDisplay("QoS_remark",tl("Saving failure"),3E3,1)})},_onRefreshClick:function(){a.configManager.getConfig(["Qos","WMM"],function(b){JSON.decode(b).result?(a._rendersaveJson(b),a._renderElements(),remarkDisplay("QoS_remark",tl("Operateingsuccess"),3E3,0)):remarkDisplay("QoS_remark",tl("Operateingfailure"),3E3,1)},!1)}}})();
