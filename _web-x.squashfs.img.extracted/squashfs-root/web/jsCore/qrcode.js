var create_qrcode=function(o,k,i,l){o=toAscString(o);k=qrcode(k||4,i||"M");k.addData(o);k.make();return k.createTableTag(l)};function toAscString(o){for(var k=new String,i=new String,l=0,i=encodeURI(o.replace(/^[\s\u3000]+|[\s\u3000]+$/g,""));l<i.length;)i.charAt(l)=="%"?(k+=String.fromCharCode(eval("0x"+i.charAt(l+1)+i.charAt(l+2))),l+=2):k+=i.charAt(l),l++;return k}
var qrcode=function(){function o(g,f){if(typeof g.length=="undefined")throw Error(g.length+"/"+f);var a=function(){for(var b=0;b<g.length&&g[b]==0;)b+=1;for(var d=Array(g.length-b+f),e=0;e<g.length-b;e+=1)d[e]=g[e+b];return d}(),d={get:function(b){return a[b]},getLength:function(){return a.length}};d.multiply=function(b){for(var c=Array(d.getLength()+b.getLength()-1),e=0;e<d.getLength();e+=1)for(var h=0;h<b.getLength();h+=1)c[e+h]^=p.gexp(p.glog(d.get(e))+p.glog(b.get(h)));return o(c,0)};d.mod=function(b){if(d.getLength()-
b.getLength()<0)return d;for(var c=p.glog(d.get(0))-p.glog(b.get(0)),e=Array(d.getLength()),h=0;h<d.getLength();h+=1)e[h]=d.get(h);for(h=0;h<b.getLength();h+=1)e[h]^=p.gexp(p.glog(b.get(h))+c);return o(e,0).mod(b)};return d}var k=function(g,f){var a=l[f],d=null,b=0,c=null,e=[],h={},n=function(h,f){b=g*4+17;d=function(b){for(var d=Array(b),c=0;c<b;c+=1){d[c]=Array(b);for(var e=0;e<b;e+=1)d[c][e]=null}return d}(b);j(0,0);j(b-7,0);j(0,b-7);m();i();p(h,f);g>=7&&k(h);c==null&&(c=t(g,a,e));q(c,f)},j=function(c,
e){for(var h=-1;h<=7;h+=1)if(!(c+h<=-1||b<=c+h))for(var a=-1;a<=7;a+=1)e+a<=-1||b<=e+a||(d[c+h][e+a]=0<=h&&h<=6&&(a==0||a==6)||0<=a&&a<=6&&(h==0||h==6)||2<=h&&h<=4&&2<=a&&a<=4?!0:!1)},i=function(){for(var c=8;c<b-8;c+=1)d[c][6]==null&&(d[c][6]=c%2==0);for(c=8;c<b-8;c+=1)d[6][c]==null&&(d[6][c]=c%2==0)},m=function(){for(var c=r.getPatternPosition(g),b=0;b<c.length;b+=1)for(var e=0;e<c.length;e+=1){var h=c[b],a=c[e];if(d[h][a]==null)for(var f=-2;f<=2;f+=1)for(var n=-2;n<=2;n+=1)d[h+f][a+n]=f==-2||f==
2||n==-2||n==2||f==0&&n==0?!0:!1}},k=function(c){for(var e=r.getBCHTypeNumber(g),h=0;h<18;h+=1){var a=!c&&(e>>h&1)==1;d[Math.floor(h/3)][h%3+b-8-3]=a}for(h=0;h<18;h+=1)a=!c&&(e>>h&1)==1,d[h%3+b-8-3][Math.floor(h/3)]=a},p=function(c,h){for(var e=r.getBCHTypeInfo(a<<3|h),f=0;f<15;f+=1){var g=!c&&(e>>f&1)==1;f<6?d[f][8]=g:f<8?d[f+1][8]=g:d[b-15+f][8]=g}for(f=0;f<15;f+=1)g=!c&&(e>>f&1)==1,f<8?d[8][b-f-1]=g:f<9?d[8][15-f-1+1]=g:d[8][15-f-1]=g;d[b-8][8]=!c},q=function(c,h){for(var e=-1,a=b-1,f=7,g=0,n=
r.getMaskFunction(h),s=b-1;s>0;s-=2)for(s==6&&(s-=1);;){for(var i=0;i<2;i+=1)if(d[a][s-i]==null){var j=!1;g<c.length&&(j=(c[g]>>>f&1)==1);n(a,s-i)&&(j=!j);d[a][s-i]=j;f-=1;f==-1&&(g+=1,f=7)}a+=e;if(a<0||b<=a){a-=e;e=-e;break}}},t=function(c,b,h){for(var b=u.getRSBlocks(c,b),e=v(),d=0;d<h.length;d+=1){var a=h[d];e.put(a.getMode(),4);e.put(a.getLength(),r.getLengthInBits(a.getMode(),c));a.write(e)}for(d=c=0;d<b.length;d+=1)c+=b[d].dataCount;if(e.getLengthInBits()>c*8)throw Error("code length overflow. ("+
e.getLengthInBits()+">"+c*8+")");for(e.getLengthInBits()+4<=c*8&&e.put(0,4);e.getLengthInBits()%8!=0;)e.putBit(!1);for(;;){if(e.getLengthInBits()>=c*8)break;e.put(236,8);if(e.getLengthInBits()>=c*8)break;e.put(17,8)}for(var f=0,h=c=0,d=Array(b.length),a=Array(b.length),g=0;g<b.length;g+=1){var n=b[g].dataCount,i=b[g].totalCount-n,c=Math.max(c,n),h=Math.max(h,i);d[g]=Array(n);for(var j=0;j<d[g].length;j+=1)d[g][j]=255&e.getBuffer()[j+f];f+=n;j=r.getErrorCorrectPolynomial(i);n=o(d[g],j.getLength()-
1).mod(j);a[g]=Array(j.getLength()-1);for(j=0;j<a[g].length;j+=1)i=j+n.getLength()-a[g].length,a[g][j]=i>=0?n.get(i):0}for(j=e=0;j<b.length;j+=1)e+=b[j].totalCount;e=Array(e);for(j=f=0;j<c;j+=1)for(g=0;g<b.length;g+=1)j<d[g].length&&(e[f]=d[g][j],f+=1);for(j=0;j<h;j+=1)for(g=0;g<b.length;g+=1)j<a[g].length&&(e[f]=a[g][j],f+=1);return e};h.addData=function(b){b=w(b);e.push(b);c=null};h.isDark=function(c,e){if(c<0||b<=c||e<0||b<=e)throw Error(c+","+e);return d[c][e]};h.getModuleCount=function(){return b};
h.make=function(){for(var c=0,e=0,b=0;b<8;b+=1){n(!0,b);var d=r.getLostPoint(h);if(b==0||c>d)c=d,e=b}n(!1,e)};h.createTableTag=function(c,e){var c=c||2,b="";b+='<table style="';b+=" border-width: 0px; border-style: none;";b+=" border-collapse: collapse;";b+=" padding: 0px; margin: "+(typeof e=="undefined"?c*4:e)+"px;";b+='">';b+="<tbody>";for(var d=0;d<h.getModuleCount();d+=1){b+="<tr>";for(var a=0;a<h.getModuleCount();a+=1)b+='<td style="',b+=" border-width: 0px; border-style: none;",b+=" border-collapse: collapse;",
b+=" padding: 0px; margin: 0px;",b+=" width: "+c+"px;",b+=" height: "+c+"px;",b+=" background-color: ",b+=h.isDark(d,a)?"#000000":"#ffffff",b+=";",b+='"/>';b+="</tr>"}b+="</tbody>";b+="</table>";return b};h.createImgTag=function(b,c){var b=b||2,c=typeof c=="undefined"?b*4:c,e=h.getModuleCount()*b+c*2,d=c,a=e-c;return x(e,e,function(c,e){return d<=c&&c<a&&d<=e&&e<a?h.isDark(Math.floor((e-d)/b),Math.floor((c-d)/b))?0:1:1})};return h};k.stringToBytes=function(g){for(var f=[],a=0;a<g.length;a+=1){var d=
g.charCodeAt(a);f.push(d&255)}return f};k.createStringToBytes=function(g,f){var a=function(){for(var b=y(g),c=function(){var c=b.read();if(c==-1)throw Error();return c},e=0,d={};;){var a=b.read();if(a==-1)break;var j=c(),i=c(),m=c(),a=String.fromCharCode(a<<8|j);d[a]=i<<8|m;e+=1}if(e!=f)throw Error(e+" != "+f);return d}(),d="?".charCodeAt(0);return function(b){for(var c=[],e=0;e<b.length;e+=1){var h=b.charCodeAt(e);h<128?c.push(h):(h=a[b.charAt(e)],typeof h=="number"?(h&255)==h?c.push(h):(c.push(h>>>
8),c.push(h&255)):c.push(d))}return c}};var i={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},l={L:1,M:0,Q:3,H:2},q={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},r=function(){var g=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],
[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],f={},a=function(d){for(var b=0;d!=0;)b+=1,d>>>=1;return b};f.getBCHTypeInfo=function(d){for(var b=d<<10;a(b)-a(1335)>=0;)b^=1335<<a(b)-a(1335);
return(d<<10|b)^21522};f.getBCHTypeNumber=function(d){for(var b=d<<12;a(b)-a(7973)>=0;)b^=7973<<a(b)-a(7973);return d<<12|b};f.getPatternPosition=function(d){return g[d-1]};f.getMaskFunction=function(d){switch(d){case q.PATTERN000:return function(b,c){return(b+c)%2==0};case q.PATTERN001:return function(b){return b%2==0};case q.PATTERN010:return function(b,c){return c%3==0};case q.PATTERN011:return function(b,c){return(b+c)%3==0};case q.PATTERN100:return function(b,c){return(Math.floor(b/2)+Math.floor(c/
3))%2==0};case q.PATTERN101:return function(b,c){return b*c%2+b*c%3==0};case q.PATTERN110:return function(b,c){return(b*c%2+b*c%3)%2==0};case q.PATTERN111:return function(b,c){return(b*c%3+(b+c)%2)%2==0};default:throw Error("bad maskPattern:"+d);}};f.getErrorCorrectPolynomial=function(d){for(var b=o([1],0),c=0;c<d;c+=1)b=b.multiply(o([1,p.gexp(c)],0));return b};f.getLengthInBits=function(d,b){if(1<=b&&b<10)switch(d){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:return 8;
case i.MODE_KANJI:return 8;default:throw Error("mode:"+d);}else if(b<27)switch(d){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw Error("mode:"+d);}else if(b<41)switch(d){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw Error("mode:"+d);}else throw Error("type:"+b);};f.getLostPoint=function(d){for(var b=d.getModuleCount(),c=0,
e=0;e<b;e+=1)for(var a=0;a<b;a+=1){for(var f=0,g=d.isDark(e,a),i=-1;i<=1;i+=1)if(!(e+i<0||b<=e+i))for(var m=-1;m<=1;m+=1)a+m<0||b<=a+m||i==0&&m==0||g==d.isDark(e+i,a+m)&&(f+=1);f>5&&(c+=3+f-5)}for(e=0;e<b-1;e+=1)for(a=0;a<b-1;a+=1)if(f=0,d.isDark(e,a)&&(f+=1),d.isDark(e+1,a)&&(f+=1),d.isDark(e,a+1)&&(f+=1),d.isDark(e+1,a+1)&&(f+=1),f==0||f==4)c+=3;for(e=0;e<b;e+=1)for(a=0;a<b-6;a+=1)d.isDark(e,a)&&!d.isDark(e,a+1)&&d.isDark(e,a+2)&&d.isDark(e,a+3)&&d.isDark(e,a+4)&&!d.isDark(e,a+5)&&d.isDark(e,a+
6)&&(c+=40);for(a=0;a<b;a+=1)for(e=0;e<b-6;e+=1)d.isDark(e,a)&&!d.isDark(e+1,a)&&d.isDark(e+2,a)&&d.isDark(e+3,a)&&d.isDark(e+4,a)&&!d.isDark(e+5,a)&&d.isDark(e+6,a)&&(c+=40);for(a=f=0;a<b;a+=1)for(e=0;e<b;e+=1)d.isDark(e,a)&&(f+=1);c+=Math.abs(100*f/b/b-50)/5*10;return c};return f}(),p=function(){for(var g=Array(256),f=Array(256),a=0;a<8;a+=1)g[a]=1<<a;for(a=8;a<256;a+=1)g[a]=g[a-4]^g[a-5]^g[a-6]^g[a-8];for(a=0;a<255;a+=1)f[g[a]]=a;return{glog:function(a){if(a<1)throw Error("glog("+a+")");return f[a]},
gexp:function(a){for(;a<0;)a+=255;for(;a>=256;)a-=255;return g[a]}}}(),u=function(){var g=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,
36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16]],f=function(a,c){var e={};e.totalCount=a;e.dataCount=c;return e},a={},d=function(a,c){switch(c){case l.L:return g[(a-1)*4+0];case l.M:return g[(a-1)*4+1];case l.Q:return g[(a-1)*4+2];case l.H:return g[(a-1)*4+3]}};a.getRSBlocks=function(a,c){var e=d(a,c);if(typeof e=="undefined")throw Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+c);for(var h=e.length/3,g=[],j=0;j<h;j+=1)for(var i=
e[j*3+0],m=e[j*3+1],k=e[j*3+2],l=0;l<i;l+=1)g.push(f(m,k));return g};return a}(),v=function(){var g=[],f=0,a={getBuffer:function(){return g},get:function(a){return(g[Math.floor(a/8)]>>>7-a%8&1)==1}};a.put=function(d,b){for(var c=0;c<b;c+=1)a.putBit((d>>>b-c-1&1)==1)};a.getLengthInBits=function(){return f};a.putBit=function(a){var b=Math.floor(f/8);g.length<=b&&g.push(0);a&&(g[b]|=128>>>f%8);f+=1};return a},w=function(g){var f=i.MODE_8BIT_BYTE,a=k.stringToBytes(g);return{getMode:function(){return f},
getLength:function(){return a.length},write:function(d){for(var b=0;b<a.length;b+=1)d.put(a[b],8)}}},t=function(){var g=[],f={writeByte:function(a){g.push(a&255)}};f.writeShort=function(a){f.writeByte(a);f.writeByte(a>>>8)};f.writeBytes=function(a,d,b){for(var d=d||0,b=b||a.length,c=0;c<b;c+=1)f.writeByte(a[c+d])};f.writeString=function(a){for(var d=0;d<a.length;d+=1)f.writeByte(a.charCodeAt(d))};f.toByteArray=function(){return g};f.toString=function(){var a="";a+="[";for(var d=0;d<g.length;d+=1)d>
0&&(a+=","),a+=g[d];a+="]";return a};return f},z=function(){var g=0,f=0,a=0,d="",b={},c=function(a){if(!(a<0))if(a<26)return 65+a;else if(a<52)return 97+(a-26);else if(a<62)return 48+(a-52);else if(a==62)return 43;else if(a==63)return 47;throw Error("n:"+a);};b.writeByte=function(b){g=g<<8|b&255;f+=8;for(a+=1;f>=6;)d+=String.fromCharCode(c(g>>>f-6&63)),f-=6};b.flush=function(){f>0&&(d+=String.fromCharCode(c(g<<6-f&63)),f=g=0);if(a%3!=0)for(var b=3-a%3,h=0;h<b;h+=1)d+="="};b.toString=function(){return d};
return b},y=function(g){var f=0,a=0,d=0,b=function(a){if(65<=a&&a<=90)return a-65;else if(97<=a&&a<=122)return a-97+26;else if(48<=a&&a<=57)return a-48+52;else if(a==43)return 62;else if(a==47)return 63;else throw Error("c:"+a);};return{read:function(){for(;d<8;){if(f>=g.length){if(d==0)return-1;throw Error("unexpected end of file./"+d);}var c=g.charAt(f);f+=1;if(c=="=")return d=0,-1;else if(c.match(/^\s$/))continue;a=a<<6|b(c.charCodeAt(0));d+=6}c=a>>>d-8&255;d-=8;return c}}},A=function(g,f){var a=
Array(g*f),d=function(a){var b=0,d=0;return{write:function(f,g){if(f>>>g!=0)throw Error("length over");for(;b+g>=8;)a.writeByte(255&(f<<b|d)),g-=8-b,f>>>=8-b,b=d=0;d|=f<<b;b+=g},flush:function(){b>0&&a.writeByte(d)}}},b=function(){var a={},b=0,d={};d.add=function(f){if(d.contains(f))throw Error("dup key:"+f);a[f]=b;b+=1};d.size=function(){return b};d.indexOf=function(b){return a[b]};d.contains=function(b){return typeof a[b]!="undefined"};return d};return{setPixel:function(b,d,f){a[d*g+b]=f},write:function(c){c.writeString("GIF87a");
c.writeShort(g);c.writeShort(f);c.writeByte(128);c.writeByte(0);c.writeByte(0);c.writeByte(0);c.writeByte(0);c.writeByte(0);c.writeByte(255);c.writeByte(255);c.writeByte(255);c.writeString(",");c.writeShort(0);c.writeShort(0);c.writeShort(g);c.writeShort(f);c.writeByte(0);var e;e=3;for(var h=b(),i=0;i<4;i+=1)h.add(String.fromCharCode(i));h.add(String.fromCharCode(4));h.add(String.fromCharCode(5));var i=t(),j=d(i);j.write(4,e);var k=0,m=String.fromCharCode(a[k]);for(k+=1;k<a.length;){var l=String.fromCharCode(a[k]);
k+=1;h.contains(m+l)?m+=l:(j.write(h.indexOf(m),e),h.size()<4095&&(h.size()==1<<e&&(e+=1),h.add(m+l)),m=l)}j.write(h.indexOf(m),e);j.write(5,e);j.flush();e=i.toByteArray();c.writeByte(2);for(h=0;e.length-h>255;)c.writeByte(255),c.writeBytes(e,h,255),h+=255;c.writeByte(e.length-h);c.writeBytes(e,h,e.length-h);c.writeByte(0);c.writeString(";")}}},x=function(g,f,a,d){for(var b=A(g,f),c=0;c<f;c+=1)for(var e=0;e<g;e+=1)b.setPixel(e,c,a(e,c));a=t();b.write(a);b=z();a=a.toByteArray();for(c=0;c<a.length;c+=
1)b.writeByte(a[c]);b.flush();a="";a+="<img";a+=' src="';a+="data:image/gif;base64,";a+=b;a+='"';a+=' width="';a+=g;a+='"';a+=' height="';a+=f;a+='"';d&&(a+=' alt="',a+=d,a+='"');a+="/>";return a};return k}();
